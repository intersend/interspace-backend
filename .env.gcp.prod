# Google Cloud Platform - Production Environment  
# This template shows the structure for GCP Cloud Run deployment

# Server Configuration
NODE_ENV=production
PORT=3000
API_VERSION=v1

# Database - Cloud SQL PostgreSQL (Production)
# Format: postgresql://username:password@/database?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
DATABASE_URL="postgresql://interspace_prod:PASSWORD@/interspace_prod?host=/cloudsql/PROJECT_ID:us-central1:interspace-prod-db"

# JWT Configuration - Stored in Google Secret Manager
JWT_SECRET=SECRET_FROM_GOOGLE_SECRET_MANAGER
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=SECRET_FROM_GOOGLE_SECRET_MANAGER
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_SECRET=SECRET_FROM_GOOGLE_SECRET_MANAGER

# Silence Labs MPC Configuration - Production
DISABLE_MPC=false
BYPASS_LOGIN=false
SILENCE_ADMIN_TOKEN=SECRET_FROM_GOOGLE_SECRET_MANAGER
SILENCE_NODE_URL=https://interspace-silence-node-prod-PROJECT_NUMBER.us-central1.run.app
DUO_NODE_URL=https://interspace-duo-node-prod-PROJECT_NUMBER.us-central1.run.app
DUO_NODE_AUDIENCE_URL=https://interspace-duo-node-prod-PROJECT_NUMBER.us-central1.run.app

# Social OAuth - Production
GOOGLE_CLIENT_ID=SECRET_FROM_GOOGLE_SECRET_MANAGER
APPLE_CLIENT_ID=com.interspace.ios
APPLE_TEAM_ID=579ZB4FX6N

# Passkey Configuration - Production
PASSKEY_RP_ID=interspace.app
PASSKEY_ORIGIN=https://interspace.app

# Orby Configuration - Production
ORBY_INSTANCE_PRIVATE_API_KEY=SECRET_FROM_GOOGLE_SECRET_MANAGER
ORBY_INSTANCE_PUBLIC_API_KEY=SECRET_FROM_GOOGLE_SECRET_MANAGER
ORBY_APP_NAME=interspace
ORBY_PRIVATE_INSTANCE_URL=https://orby.interspace.com

# Frontend URL - Production
FRONTEND_URL=https://app.interspace.com

# Chain Configuration - Mainnet for Production  
DEFAULT_CHAIN_ID=1
SUPPORTED_CHAINS=1,10,137,42161,8453

# Security Configuration - Production
# CRITICAL: No wildcards allowed in production
CORS_ORIGINS=https://app.interspace.com,https://interspace.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Google Cloud Specific
GOOGLE_CLOUD_PROJECT=PROJECT_ID
GOOGLE_APPLICATION_CREDENTIALS=/var/secrets/google/key.json

# Redis Configuration - Production (Use Google Memorystore)
REDIS_ENABLED=true
# Memorystore Redis instance in VPC
REDIS_URL=redis://:PASSWORD@10.0.0.3:6379/0

# Email Service - Production
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=SECRET_FROM_GOOGLE_SECRET_MANAGER
EMAIL_FROM=noreply@interspace.com
EMAIL_FROM_NAME=Interspace

# Monitoring - Production
SLACK_WEBHOOK_URL=SECRET_FROM_GOOGLE_SECRET_MANAGER
DISCORD_WEBHOOK_URL=SECRET_FROM_GOOGLE_SECRET_MANAGER
SECURITY_ALERT_EMAIL=security@interspace.com
PAGERDUTY_INTEGRATION_KEY=SECRET_FROM_GOOGLE_SECRET_MANAGER