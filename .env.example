# Interspace Backend - Environment Configuration
# Copy to .env and update values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Development (SQLite)
DATABASE_URL="file:./dev.db"

# Production (PostgreSQL recommended)
# DATABASE_URL="postgresql://username:password@localhost:5432/interspace"

# Test Database (SQLite)
TEST_DATABASE_URL="file:./test.db"

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET="your-super-secure-jwt-secret-key-replace-in-production"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# Password hashing (bcrypt rounds)
BCRYPT_ROUNDS=12

# =============================================================================
# THIRDWEB INTEGRATION
# =============================================================================

# Development credentials (included for testing)
THIRDWEB_CLIENT_ID="3dcca06b137a0ab48f1da145c27e4636"
THIRDWEB_SECRET_KEY="HBxHyrdO03XxU0mwT9l4nyIFF_9jxTYpVB5mzfOBJfmhYVBAjzCadE8olXCzGRdx6tVCjizpbNEq2JWCSs8Xww"

# Production credentials (replace with your own)
# THIRDWEB_CLIENT_ID="your-production-client-id"
# THIRDWEB_SECRET_KEY="your-production-secret-key"

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server settings
PORT=3000
NODE_ENV="development"
API_VERSION="v1"

# CORS Configuration
# Development: Allow all origins for React Native
CORS_ORIGINS="*"

# Production: Restrict to specific origins
# CORS_ORIGINS="https://yourdomain.com,https://app.yourdomain.com"

# =============================================================================
# BLOCKCHAIN CONFIGURATION
# =============================================================================

# Default chain for session wallets (Sepolia testnet)
DEFAULT_CHAIN_ID=11155111

# Supported chains (comma-separated)
# Mainnets: 1=Ethereum, 137=Polygon, 42161=Arbitrum, 10=Optimism, 8453=Base
# Testnets: 11155111=Sepolia, 80001=Mumbai, 421614=ArbitrumSepolia, 11155420=OptimismSepolia, 84532=BaseSepolia
SUPPORTED_CHAINS="1,137,42161,10,8453,11155111,80001,421614,11155420,84532"

# RPC URLs (optional - Thirdweb provides defaults)
# RPC_URL_MAINNET="https://mainnet.infura.io/v3/your-key"
# RPC_URL_POLYGON="https://polygon-mainnet.infura.io/v3/your-key"
# RPC_URL_ARBITRUM="https://arbitrum-mainnet.infura.io/v3/your-key"

# =============================================================================
# RATE LIMITING & SECURITY
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication specific rate limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=10

# =============================================================================
# REDIS CONFIGURATION (Optional - for production)
# =============================================================================

# Redis for session storage and caching
# REDIS_URL="redis://localhost:6379"
# REDIS_PASSWORD="your-redis-password"
# REDIS_DB=0

# =============================================================================
# FRONTEND INTEGRATION
# =============================================================================

# Frontend URL for shareable links
FRONTEND_URL="https://app.interspace.com"

# React Native development
# REACT_NATIVE_DEV_URL="http://localhost:8081"

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL="info"

# Development logging
LOG_REQUESTS="true"
LOG_RESPONSES="false"

# Production monitoring
# SENTRY_DSN="https://your-sentry-dsn"
# DATADOG_API_KEY="your-datadog-key"

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# SMTP settings for email notifications
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="your-email@gmail.com"
# SMTP_PASS="your-app-password"
# FROM_EMAIL="noreply@interspace.com"

# =============================================================================
# WEBHOOKS & EXTERNAL INTEGRATIONS
# =============================================================================

# Webhook URLs for external notifications
# WEBHOOK_URL_PROFILE_CREATED="https://your-webhook.com/profile-created"
# WEBHOOK_URL_TRANSACTION="https://your-webhook.com/transaction"

# Social media integration
# FARCASTER_API_KEY="your-farcaster-key"
# TELEGRAM_BOT_TOKEN="your-telegram-bot-token"

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Enable development features
DEBUG_MODE="true"
ENABLE_DEV_ROUTES="true"

# Test configuration
TEST_TIMEOUT=30000
INTEGRATION_TEST_TIMEOUT=120000

# Mock external services in development
MOCK_THIRDWEB="false"
MOCK_BLOCKCHAIN="false"

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# Database connection pooling
DB_POOL_MIN=2
DB_POOL_MAX=10

# Server performance
MAX_REQUEST_SIZE="10mb"
REQUEST_TIMEOUT="30s"

# WebSocket configuration
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Database backup configuration
# BACKUP_SCHEDULE="0 2 * * *"
# BACKUP_RETENTION_DAYS=30
# BACKUP_STORAGE_URL="s3://your-backup-bucket"

# =============================================================================
# MOBILE-SPECIFIC CONFIGURATION
# =============================================================================

# React Native development
MOBILE_API_TIMEOUT=10000
MOBILE_RETRY_ATTEMPTS=3
MOBILE_OFFLINE_SUPPORT="true"

# Push notifications
# FIREBASE_SERVER_KEY="your-firebase-server-key"
# APNS_KEY_ID="your-apns-key-id"
# APNS_TEAM_ID="your-apns-team-id"

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_SOCIAL_LOGIN="true"
ENABLE_EMAIL_AUTH="true"
ENABLE_GUEST_MODE="true"
ENABLE_FOLDER_SHARING="true"
ENABLE_WEBSOCKETS="true"
ENABLE_AUDIT_LOGGING="true"

# Experimental features
ENABLE_BATCH_TRANSACTIONS="true"
ENABLE_GAS_OPTIMIZATION="true"
ENABLE_CROSS_CHAIN="true"

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================

# Health check configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Graceful shutdown
SHUTDOWN_TIMEOUT=10000

# Process management
CLUSTER_MODE="false"
WORKER_PROCESSES=1

# =============================================================================
# ANALYTICS & METRICS
# =============================================================================

# Usage analytics
# ANALYTICS_ENDPOINT="https://analytics.yourdomain.com"
# ANALYTICS_API_KEY="your-analytics-key"

# Performance monitoring
# NEW_RELIC_LICENSE_KEY="your-newrelic-key"
# NEW_RELIC_APP_NAME="interspace-backend"

# Business metrics
TRACK_USER_EVENTS="true"
TRACK_PROFILE_EVENTS="true"
TRACK_TRANSACTION_EVENTS="true"
